<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>package encoding/xml - pkg.odin-lang.org</title>	<link rel="stylesheet" type="text/css" href="https://odin-lang.org/scss/custom.min.css">
	<link rel=stylesheet href="//odin-lang.org/lib/highlight/styles/github-dark.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3"/>
	<script src="//odin-lang.org/lib/highlight/highlight.min.js"></script>

	<script>hljs.registerLanguage("odin",function(a){return{aliases:["odin","odinlang","odin-lang"],keywords:{keyword:"auto_cast bit_set break case cast context continue defer distinct do dynamic else enum fallthrough for foreign if import in map not_in or_else or_return package proc return struct switch transmute type_of typeid union using when where",literal:"true false nil",built_in:"abs align_of cap clamp complex conj expand_to_tuple imag jmag kmag len max min offset_of quaternion real size_of soa_unzip soa_zip swizzle type_info_of type_of typeid_of"},illegal:"</",contains:[a.C_LINE_COMMENT_MODE,a.C_BLOCK_COMMENT_MODE,{className:"string",variants:[a.QUOTE_STRING_MODE,{begin:"'",end:"[^\\\\]'"},{begin:"`",end:"`"}]},{className:"number",variants:[{begin:a.C_NUMBER_RE+"[ijk]",relevance:1},a.C_NUMBER_MODE]}]}})</script>
	<script>hljs.highlightAll()</script>
	<link rel="stylesheet" type="text/css" href="https://odin-lang.org/css/style.css">

	<link rel="stylesheet" type="text/css" href="/style.css">

	</style>
</head>
<body>
<header class="sticky-top">
	<nav class="navbar navbar-expand-lg navbar-dark bg-primary odin-menu">
		<div class="container">
			<a class="navbar-brand" href="https://odin-lang.org/">
			<img src="https://odin-lang.org/logo.svg" height="30" alt="Odin"></a>
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#odin-navbar-content" aria-controls="odin-navbar-content" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
			<div class="collapse navbar-collapse" id="odin-navbar-content">
			<ul class="navbar-nav ms-md-auto">
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/">Home</a></li>
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/docs">Docs</a></li>
				<li class="nav-item"><a class="nav-link active" href="/">Packages</a></li>
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/news">News</a></li>
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/showcase">Showcase</a></li>
				<li class="nav-item"><a class="nav-link" href="https://odin-lang.org/community">Community</a></li>
				<li class="nav-item"><a class="nav-link" href="https://github.com/odin-lang/Odin" target="_blank">GitHub</a></li>
			</ul>
		</div>
		</div>
	</nav>
</header>
<main>
<div class="container full-width">
<div class="row odin-main" id="pkg">
<nav id="pkg-sidebar" class="col-lg-2 odin-sidebar-border navbar-light sticky-top odin-below-navbar">
<div class="py-3">
<h4>Core Library</h4>
<ul>
<li class="nav-item"><a href="/core/bufio">bufio</a></li>
<li class="nav-item"><a href="/core/bytes">bytes</a></li>
<li class="nav-item"><a href="/core/c">c</a><ul>
<li><a href="/core/c/frontend/preprocessor">frontend/preprocessor</a></li>
<li><a href="/core/c/frontend/tokenizer">frontend/tokenizer</a></li>
<li><a href="/core/c/libc">libc</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/compress">compress</a><ul>
<li><a href="/core/compress/gzip">gzip</a></li>
<li><a href="/core/compress/shoco">shoco</a></li>
<li><a href="/core/compress/zlib">zlib</a></li>
</ul>

</li>
<li class="nav-item">container<ul>
<li><a href="/core/container/bit_array">bit_array</a></li>
<li><a href="/core/container/lru">lru</a></li>
<li><a href="/core/container/priority_queue">priority_queue</a></li>
<li><a href="/core/container/queue">queue</a></li>
<li><a href="/core/container/small_array">small_array</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/crypto">crypto</a><ul>
<li><a href="/core/crypto/blake2b">blake2b</a></li>
<li><a href="/core/crypto/blake2s">blake2s</a></li>
<li><a href="/core/crypto/blake">blake</a></li>
<li><a href="/core/crypto/chacha20poly1305">chacha20poly1305</a></li>
<li><a href="/core/crypto/chacha20">chacha20</a></li>
<li><a href="/core/crypto/gost">gost</a></li>
<li><a href="/core/crypto/groestl">groestl</a></li>
<li><a href="/core/crypto/haval">haval</a></li>
<li><a href="/core/crypto/jh">jh</a></li>
<li><a href="/core/crypto/keccak">keccak</a></li>
<li><a href="/core/crypto/md2">md2</a></li>
<li><a href="/core/crypto/md4">md4</a></li>
<li><a href="/core/crypto/md5">md5</a></li>
<li><a href="/core/crypto/poly1305">poly1305</a></li>
<li><a href="/core/crypto/ripemd">ripemd</a></li>
<li><a href="/core/crypto/sha1">sha1</a></li>
<li><a href="/core/crypto/sha2">sha2</a></li>
<li><a href="/core/crypto/sha3">sha3</a></li>
<li><a href="/core/crypto/shake">shake</a></li>
<li><a href="/core/crypto/sm3">sm3</a></li>
<li><a href="/core/crypto/streebog">streebog</a></li>
<li><a href="/core/crypto/tiger">tiger</a></li>
<li><a href="/core/crypto/tiger2">tiger2</a></li>
<li><a href="/core/crypto/util">util</a></li>
<li><a href="/core/crypto/whirlpool">whirlpool</a></li>
<li><a href="/core/crypto/x25519">x25519</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/dynlib">dynlib</a></li>
<li class="nav-item">encoding<ul>
<li><a href="/core/encoding/base32">base32</a></li>
<li><a href="/core/encoding/base64">base64</a></li>
<li><a href="/core/encoding/csv">csv</a></li>
<li><a href="/core/encoding/entity">entity</a></li>
<li><a href="/core/encoding/hxa">hxa</a></li>
<li><a href="/core/encoding/json">json</a></li>
<li><a href="/core/encoding/varint">varint</a></li>
<li><a class="active" href="/core/encoding/xml">xml</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/fmt">fmt</a></li>
<li class="nav-item"><a href="/core/hash">hash</a></li>
<li class="nav-item"><a href="/core/image">image</a><ul>
<li><a href="/core/image/netpbm">netpbm</a></li>
<li><a href="/core/image/png">png</a></li>
<li><a href="/core/image/qoi">qoi</a></li>
<li><a href="/core/image/tga">tga</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/io">io</a></li>
<li class="nav-item"><a href="/core/log">log</a></li>
<li class="nav-item"><a href="/core/math">math</a><ul>
<li><a href="/core/math/big">big</a></li>
<li><a href="/core/math/bits">bits</a></li>
<li><a href="/core/math/fixed">fixed</a></li>
<li><a href="/core/math/linalg">linalg</a></li>
<li><a href="/core/math/linalg/glsl">linalg/glsl</a></li>
<li><a href="/core/math/linalg/hlsl">linalg/hlsl</a></li>
<li><a href="/core/math/rand">rand</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/mem">mem</a><ul>
<li><a href="/core/mem/virtual">virtual</a></li>
</ul>

</li>
<li class="nav-item">odin<ul>
<li><a href="/core/odin/ast">ast</a></li>
<li><a href="/core/odin/doc-format">doc-format</a></li>
<li><a href="/core/odin/format">format</a></li>
<li><a href="/core/odin/parser">parser</a></li>
<li><a href="/core/odin/printer">printer</a></li>
<li><a href="/core/odin/tokenizer">tokenizer</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/os">os</a></li>
<li class="nav-item">path<ul>
<li><a href="/core/path/filepath">filepath</a></li>
<li><a href="/core/path/slashpath">slashpath</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/reflect">reflect</a></li>
<li class="nav-item"><a href="/core/runtime">runtime</a></li>
<li class="nav-item"><a href="/core/simd">simd</a></li>
<li class="nav-item"><a href="/core/slice">slice</a><ul>
<li><a href="/core/slice/heap">heap</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/sort">sort</a></li>
<li class="nav-item"><a href="/core/strconv">strconv</a><ul>
<li><a href="/core/strconv/decimal">decimal</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/strings">strings</a></li>
<li class="nav-item"><a href="/core/sync">sync</a></li>
<li class="nav-item"><a href="/core/testing">testing</a></li>
<li class="nav-item">text<ul>
<li><a href="/core/text/i18n">i18n</a></li>
<li><a href="/core/text/scanner">scanner</a></li>
</ul>

</li>
<li class="nav-item"><a href="/core/thread">thread</a></li>
<li class="nav-item"><a href="/core/time">time</a></li>
<li class="nav-item"><a href="/core/unicode">unicode</a><ul>
<li><a href="/core/unicode/utf16">utf16</a></li>
<li><a href="/core/unicode/utf8">utf8</a></li>
<li><a href="/core/unicode/utf8/utf8string">utf8/utf8string</a></li>
</ul>

</li>
</ul>
</div>
</nav>
<article class="col-lg-8 p-4 documentation odin-article">
<nav class="pkg-breadcrumb" aria-label="breadcrumb">
<ol class="breadcrumb">
<li class="breadcrumb-item"><a href="/core">core</a></li>
<li class="breadcrumb-item">encoding</li>
<li class="breadcrumb-item active" aria-current="page"><a href="/core/encoding/xml">xml</a></li>
</ol>
</nav>
<h1>package core:encoding/xml<div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml"><em>Source</em></a></div></h1>
<div id="algolia-search" data-path="core/encoding/xml"></div>
<h2>Overview</h2>
<div id="pkg-overview">
<p>An XML 1.0 / 1.1 parser</p>
<pre>Copyright 2021-2022 Jeroen van Rijn <nom@duclavier.com>.
Made available under Odin's BSD-3 license.

A from-scratch XML implementation, loosely modeled on the [spec](https://www.w3.org/TR/2006/REC-xml11-20060816).

List of contributors:
	Jeroen van Rijn: Initial implementation.

An XML 1.0 / 1.1 parser

Copyright 2021-2022 Jeroen van Rijn <nom@duclavier.com>.
Made available under Odin's BSD-3 license.

This file contains helper functions.

An XML 1.0 / 1.1 parser

Copyright 2021-2022 Jeroen van Rijn <nom@duclavier.com>.
Made available under Odin's BSD-3 license.

A from-scratch XML implementation, loosely modeled on the [spec](https://www.w3.org/TR/2006/REC-xml11-20060816).

List of contributors:
	Jeroen van Rijn: Initial implementation.

An XML 1.0 / 1.1 parser

Copyright 2021-2022 Jeroen van Rijn <nom@duclavier.com>.
Made available under Odin's BSD-3 license.

A from-scratch XML implementation, loosely modelled on the [spec](https://www.w3.org/TR/2006/REC-xml11-20060816).

Features:
	- Supports enough of the XML 1.0/1.1 spec to handle the 99.9% of XML documents in common current usage.
	- Simple to understand and use. Small.

Caveats:
	- We do NOT support HTML in this package, as that may or may not be valid XML.
	  If it works, great. If it doesn't, that's not considered a bug.

	- We do NOT support UTF-16. If you have a UTF-16 XML file, please convert it to UTF-8 first. Also, our condolences.
	- <[!ELEMENT and <[!ATTLIST are not supported, and will be either ignored or return an error depending on the parser options.

MAYBE:
- XML writer?
- Serialize/deserialize Odin types?

List of contributors:
	Jeroen van Rijn: Initial implementation.
</pre>
</div>
<div id="pkg-index">
<h2>Index</h2>
<div>
<details class="doc-index" id="doc-index-Types" aria-labelledby="#doc-index-Types-header">
<summary id="#doc-index-Types-header">
Types (15)</summary>
<ul>
<li><a href="#Attributes">Attributes</a></li>
<li><a href="#Attribute">Attribute</a></li>
<li><a href="#Document">Document</a></li>
<li><a href="#Element">Element</a></li>
<li><a href="#Element_ID">Element_ID</a></li>
<li><a href="#Encoding">Encoding</a></li>
<li><a href="#Error">Error</a></li>
<li><a href="#Error_Handler">Error_Handler</a></li>
<li><a href="#Option_Flag">Option_Flag</a></li>
<li><a href="#Option_Flags">Option_Flags</a></li>
<li><a href="#Options">Options</a></li>
<li><a href="#Pos">Pos</a></li>
<li><a href="#Token">Token</a></li>
<li><a href="#Token_Kind">Token_Kind</a></li>
<li><a href="#Tokenizer">Tokenizer</a></li>
</ul>
</details>
</div>
<div>
<details class="doc-index" id="doc-index-Constants" aria-labelledby="#doc-index-Constants-header">
<summary id="#doc-index-Constants-header">
Constants (5)</summary>
<ul>
<li><a href="#CDATA_END">CDATA_END</a></li>
<li><a href="#CDATA_START">CDATA_START</a></li>
<li><a href="#COMMENT_END">COMMENT_END</a></li>
<li><a href="#COMMENT_START">COMMENT_START</a></li>
<li><a href="#DEFAULT_OPTIONS">DEFAULT_OPTIONS</a></li>
</ul>
</details>
</div>
<div>
<details class="doc-index" id="doc-index-Variables" aria-labelledby="#doc-index-Variables-header">
<summary id="#doc-index-Variables-header">
Variables (0)</summary>
<p>This section is empty.</p>
</details>
</div>
<div>
<details class="doc-index" id="doc-index-Procedures" aria-labelledby="#doc-index-Procedures-header">
<summary id="#doc-index-Procedures-header">
Procedures (32)</summary>
<ul>
<li><a href="#advance_rune">advance_rune</a></li>
<li><a href="#check_duplicate_attributes">check_duplicate_attributes</a></li>
<li><a href="#default_error_handler">default_error_handler</a></li>
<li><a href="#destroy">destroy</a></li>
<li><a href="#error">error</a></li>
<li><a href="#expect">expect</a></li>
<li><a href="#find_attribute_val_by_key">find_attribute_val_by_key</a></li>
<li><a href="#find_child_by_ident">find_child_by_ident</a></li>
<li><a href="#init">init</a></li>
<li><a href="#is_letter">is_letter</a></li>
<li><a href="#is_valid_identifier_rune">is_valid_identifier_rune</a></li>
<li><a href="#likely">likely</a></li>
<li><a href="#load_from_file">load_from_file</a></li>
<li><a href="#new_element">new_element</a></li>
<li><a href="#parse_attributes">parse_attributes</a></li>
<li><a href="#parse_attribute">parse_attribute</a></li>
<li><a href="#parse_bytes">parse_bytes</a></li>
<li><a href="#parse_doctype">parse_doctype</a></li>
<li><a href="#parse_prologue">parse_prologue</a></li>
<li><a href="#parse_string">parse_string</a></li>
<li><a href="#peek_byte">peek_byte</a></li>
<li><a href="#peek">peek</a></li>
<li><a href="#print_element">print_element</a></li>
<li><a href="#print">print</a></li>
<li><a href="#scan">scan</a></li>
<li><a href="#scan_comment">scan_comment</a></li>
<li><a href="#scan_identifier">scan_identifier</a></li>
<li><a href="#scan_string">scan_string</a></li>
<li><a href="#skip_cdata">skip_cdata</a></li>
<li><a href="#skip_element">skip_element</a></li>
<li><a href="#skip_whitespace">skip_whitespace</a></li>
<li><a href="#validate_options">validate_options</a></li>
</ul>
</details>
</div>
<div>
<details class="doc-index" id="doc-index-Procedure Groups" aria-labelledby="#doc-index-Procedure Groups-header">
<summary id="#doc-index-Procedure Groups-header">
Procedure Groups (1)</summary>
<ul>
<li><a href="#parse">parse</a></li>
</ul>
</details>
</div>
</div>
<h2 id="pkg-Types" class="pkg-header">Types</h2>
<section class="documentation">
<div class="pkg-entity">
<h3 id="Attributes"><span><a class="doc-id-link" href="#Attributes">Attributes<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L144"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Attributes :: [<span class="keyword">dynamic</span>]<a class="code-typename" href="/core/encoding/xml/#Attribute">Attribute</a></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Attribute"><span><a class="doc-id-link" href="#Attribute">Attribute<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L139"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Attribute :: <span class="keyword-type">struct</span> {
	key: <span class="doc-builtin">string</span>,
	val: <span class="doc-builtin">string</span>,
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Document"><span><a class="doc-id-link" href="#Document">Document<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L91"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Document :: <span class="keyword-type">struct</span> {
	elements:        [<span class="keyword">dynamic</span>]<a class="code-typename" href="/core/encoding/xml/#Element">Element</a>,
	element_count:   <span class="doc-builtin">u32</span>,
	prologue:        [<span class="keyword">dynamic</span>]<a class="code-typename" href="/core/encoding/xml/#Attribute">Attribute</a>,
	encoding:        <a class="code-typename" href="/core/encoding/xml/#Encoding">Encoding</a>,
	doctype:         <span class="keyword-type">struct</span> {
		<span class="comment">// 			We only scan the <!DOCTYPE IDENT part and skip the rest.</span>
		ident: <span class="doc-builtin">string</span>,
		rest:  <span class="doc-builtin">string</span>,
	},
	<span class="comment">// 		If we encounter comments before the root node, and the option to intern comments is given, this is where they'll live.</span>
	<span class="comment">// 		Otherwise they'll be in the element tree.</span>
	comments:        [<span class="keyword">dynamic</span>]<span class="doc-builtin">string</span>,
	<span class="comment">// 		Internal</span>
	tokenizer:       ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>,
	allocator:       runtime.<a class="code-typename" href="/core/runtime/#Allocator">Allocator</a>,
	<span class="comment">// 		Input. Either the original buffer, or a copy if `.Input_May_Be_Modified` isn't specified.</span>
	input:           []<span class="doc-builtin">u8</span>,
	strings_to_free: [<span class="keyword">dynamic</span>]<span class="doc-builtin">string</span>,
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Element"><span><a class="doc-id-link" href="#Element">Element<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L125"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Element :: <span class="keyword-type">struct</span> {
	ident:    <span class="doc-builtin">string</span>,
	value:    <span class="doc-builtin">string</span>,
	attribs:  [<span class="keyword">dynamic</span>]<a class="code-typename" href="/core/encoding/xml/#Attribute">Attribute</a>,
	kind:     <span class="keyword-type">enum</span> <span class="doc-builtin">int</span> {
		Element = 0, 
		Comment, 
	},
	parent:   <span class="doc-builtin">u32</span>,
	children: [<span class="keyword">dynamic</span>]<span class="doc-builtin">u32</span>,
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Element_ID"><span><a class="doc-id-link" href="#Element_ID">Element_ID<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L694"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Element_ID :: <span class="doc-builtin">u32</span></pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Encoding"><span><a class="doc-id-link" href="#Encoding">Encoding<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L151"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Encoding :: <span class="keyword-type">enum</span> <span class="doc-builtin">int</span> {
	Unknown, 
	UTF_8, 
	ISO_8859_1, 
	<span class="comment">// 		Aliases</span>
	LATIN_1    = 2, 
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Error"><span><a class="doc-id-link" href="#Error">Error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L163"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Error :: <span class="keyword-type">enum</span> <span class="doc-builtin">int</span> {
	<span class="comment">// 		General return values.</span>
	None                          = 0, 
	General_Error, 
	Unexpected_Token, 
	Invalid_Token, 
	<span class="comment">// 		Couldn't find, open or read file.</span>
	File_Error, 
	<span class="comment">// 		File too short.</span>
	Premature_EOF, 
	<span class="comment">// 		XML-specific errors.</span>
	No_Prolog, 
	Invalid_Prolog, 
	Too_Many_Prologs, 
	No_DocType, 
	Too_Many_DocTypes, 
	DocType_Must_Preceed_Elements, 
	<span class="comment">// 		If a DOCTYPE is present _or_ the caller</span>
	<span class="comment">// 		asked for a specific DOCTYPE and the DOCTYPE</span>
	<span class="comment">// 		and root tag don't match, we return `.Invalid_DocType`.</span>
	Invalid_DocType, 
	Invalid_Tag_Value, 
	Mismatched_Closing_Tag, 
	Unclosed_Comment, 
	Comment_Before_Root_Element, 
	Invalid_Sequence_In_Comment, 
	Unsupported_Version, 
	Unsupported_Encoding, 
	<span class="comment">// 		<!FOO are usually skipped.</span>
	Unhandled_Bang, 
	Duplicate_Attribute, 
	Conflicting_Options, 
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Error_Handler"><span><a class="doc-id-link" href="#Error_Handler">Error_Handler<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L18"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Error_Handler :: <span class="keyword-type">proc</span> "odin" (pos: <a class="code-typename" href="/core/encoding/xml/#Pos">Pos</a>, fmt: <span class="doc-builtin">string</span>, args: ..<span class="doc-builtin">any</span>)</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Option_Flag"><span><a class="doc-id-link" href="#Option_Flag">Option_Flag<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L44"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Option_Flag :: <span class="keyword-type">enum</span> <span class="doc-builtin">int</span> {
	<span class="comment">// 		If the caller says that input may be modified, we can perform in-situ parsing.</span>
	<span class="comment">// 		If this flag isn't provided, the XML parser first duplicates the input so that it can.</span>
	Input_May_Be_Modified, 
	<span class="comment">// 		Document MUST start with `<?xml` prologue.</span>
	Must_Have_Prolog, 
	<span class="comment">// 		Document MUST have a `<!DOCTYPE`.</span>
	Must_Have_DocType, 
	<span class="comment">// 		By default we skip comments. Use this option to intern a comment on a parented Element.</span>
	Intern_Comments, 
	<span class="comment">// 		How to handle unsupported parts of the specification, like <! other than <!DOCTYPE and <![CDATA[</span>
	Error_on_Unsupported, 
	Ignore_Unsupported, 
	<span class="comment">// 		By default CDATA tags are passed-through as-is.</span>
	<span class="comment">// 		This option unwraps them when encountered.</span>
	Unbox_CDATA, 
	<span class="comment">// 		By default SGML entities like `&gt;`, `&#32;` and `&#x20;` are passed-through as-is.</span>
	<span class="comment">// 		This option decodes them when encountered.</span>
	Decode_SGML_Entities, 
	<span class="comment">// 		If a tag body has a comment, it will be stripped unless this option is given.</span>
	Keep_Tag_Body_Comments, 
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Option_Flags"><span><a class="doc-id-link" href="#Option_Flags">Option_Flags<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L89"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Option_Flags :: <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/xml/#Option_Flag">Option_Flag</a>; <span class="doc-builtin">u16</span>]</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Options"><span><a class="doc-id-link" href="#Options">Options<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L146"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Options :: <span class="keyword-type">struct</span> {
	flags:            <span class="keyword-type">bit_set</span>[<a class="code-typename" href="/core/encoding/xml/#Option_Flag">Option_Flag</a>; <span class="doc-builtin">u16</span>],
	expected_doctype: <span class="doc-builtin">string</span>,
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Pos"><span><a class="doc-id-link" href="#Pos">Pos<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L26"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Pos :: <span class="keyword-type">struct</span> {
	file:   <span class="doc-builtin">string</span>,
	offset: <span class="doc-builtin">int</span>,
	<span class="comment">// starting at 0</span>
	line:   <span class="doc-builtin">int</span>,
	<span class="comment">// starting at 1</span>
	column: <span class="doc-builtin">int</span>,
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Token"><span><a class="doc-id-link" href="#Token">Token<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L20"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Token :: <span class="keyword-type">struct</span> {
	kind: <a class="code-typename" href="/core/encoding/xml/#Token_Kind">Token_Kind</a>,
	text: <span class="doc-builtin">string</span>,
	pos:  <a class="code-typename" href="/core/encoding/xml/#Pos">Pos</a>,
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Token_Kind"><span><a class="doc-id-link" href="#Token_Kind">Token_Kind<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L33"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Token_Kind :: <span class="keyword-type">enum</span> <span class="doc-builtin">int</span> {
	Invalid, 
	Ident, 
	Literal, 
	Rune, 
	String, 
	Double_Quote,  <span class="comment">// "</span>
	Single_Quote,  <span class="comment">// '</span>
	Colon,         <span class="comment">// :</span>
	Eq,            <span class="comment">// =</span>
	Lt,            <span class="comment">// <</span>
	Gt,            <span class="comment">// ></span>
	Exclaim,       <span class="comment">// !</span>
	Question,      <span class="comment">// ?</span>
	Hash,          <span class="comment">// #</span>
	Slash,         <span class="comment">// /</span>
	Dash,          <span class="comment">// -</span>
	Open_Bracket,  <span class="comment">// [</span>
	Close_Bracket, <span class="comment">// ]</span>
	EOF, 
}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="Tokenizer"><span><a class="doc-id-link" href="#Tokenizer">Tokenizer<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L66"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">Tokenizer :: <span class="keyword-type">struct</span> {
	<span class="comment">// Immutable data</span>
	path:        <span class="doc-builtin">string</span>,
	src:         <span class="doc-builtin">string</span>,
	err:         <a class="code-typename" href="/core/encoding/xml/#Error_Handler">Error_Handler</a>,
	<span class="comment">// Tokenizing state</span>
	ch:          <span class="doc-builtin">rune</span>,
	offset:      <span class="doc-builtin">int</span>,
	read_offset: <span class="doc-builtin">int</span>,
	line_offset: <span class="doc-builtin">int</span>,
	line_count:  <span class="doc-builtin">int</span>,
	<span class="comment">// Mutable data</span>
	error_count: <span class="doc-builtin">int</span>,
}</pre>
</div>
</div>
</section>
<h2 id="pkg-Constants" class="pkg-header">Constants</h2>
<section class="documentation">
<div class="pkg-entity">
<h3 id="CDATA_END"><span><a class="doc-id-link" href="#CDATA_END">CDATA_END<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L61"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">CDATA_END :: "]]>"</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="CDATA_START"><span><a class="doc-id-link" href="#CDATA_START">CDATA_START<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L60"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">CDATA_START :: "<![CDATA["</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="COMMENT_END"><span><a class="doc-id-link" href="#COMMENT_END">COMMENT_END<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L64"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">COMMENT_END :: "-->"</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="COMMENT_START"><span><a class="doc-id-link" href="#COMMENT_START">COMMENT_START<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L63"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">COMMENT_START :: "<!--"</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="DEFAULT_OPTIONS"><span><a class="doc-id-link" href="#DEFAULT_OPTIONS">DEFAULT_OPTIONS<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L39"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">DEFAULT_OPTIONS :: Options{flags = {.Ignore_Unsupported}, expected_doctype = ""}</pre>
</div>
</div>
</section>
<h2 id="pkg-Variables" class="pkg-header">Variables</h2>
<section class="documentation">
<p>This section is empty.</p>
</section>
<h2 id="pkg-Procedures" class="pkg-header">Procedures</h2>
<section class="documentation">
<div class="pkg-entity">
<h3 id="advance_rune"><span><a class="doc-id-link" href="#advance_rune">advance_rune<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L128"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">advance_rune :: <span class="keyword-type">proc</span> "odin" (using t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="check_duplicate_attributes"><span><a class="doc-id-link" href="#check_duplicate_attributes">check_duplicate_attributes<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L575"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">check_duplicate_attributes :: <span class="keyword-type">proc</span> "odin" (t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>, attribs: [<span class="keyword">dynamic</span>]<a class="code-typename" href="/core/encoding/xml/#Attribute">Attribute</a>, attr: <a class="code-typename" href="/core/encoding/xml/#Attribute">Attribute</a>, offset: <span class="doc-builtin">int</span>) -> (err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="default_error_handler"><span><a class="doc-id-link" href="#default_error_handler">default_error_handler<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L113"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">default_error_handler :: <span class="keyword-type">proc</span> "odin" (pos: <a class="code-typename" href="/core/encoding/xml/#Pos">Pos</a>, fmt: <span class="doc-builtin">string</span>, args: ..<span class="doc-builtin">any</span>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="destroy"><span><a class="doc-id-link" href="#destroy">destroy<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L515"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">destroy :: <span class="keyword-type">proc</span> "odin" (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="error"><span><a class="doc-id-link" href="#error">error<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L119"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">error :: <span class="keyword-type">proc</span> "odin" (t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>, offset: <span class="doc-builtin">int</span>, msg: <span class="doc-builtin">string</span>, args: ..<span class="doc-builtin">any</span>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="expect"><span><a class="doc-id-link" href="#expect">expect<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L549"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">expect :: <span class="keyword-type">proc</span> "odin" (t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>, kind: <a class="code-typename" href="/core/encoding/xml/#Token_Kind">Token_Kind</a>) -> (tok: <a class="code-typename" href="/core/encoding/xml/#Token">Token</a>, err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="find_attribute_val_by_key"><span><a class="doc-id-link" href="#find_attribute_val_by_key">find_attribute_val_by_key<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/helpers.odin#L35"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">find_attribute_val_by_key :: <span class="keyword-type">proc</span> "odin" (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>, parent_id: <span class="doc-builtin">u32</span>, key: <span class="doc-builtin">string</span>) -> (val: <span class="doc-builtin">string</span>, found: <span class="doc-builtin">bool</span>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Find an attribute by key.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="find_child_by_ident"><span><a class="doc-id-link" href="#find_child_by_ident">find_child_by_ident<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/helpers.odin#L12"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">find_child_by_ident :: <span class="keyword-type">proc</span> "odin" (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>, parent_id: <span class="doc-builtin">u32</span>, ident: <span class="doc-builtin">string</span>, nth: <span class="doc-builtin">int</span> = 0) -> (res: <span class="doc-builtin">u32</span>, found: <span class="doc-builtin">bool</span>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Find parent's nth child with a given ident.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="init"><span><a class="doc-id-link" href="#init">init<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L83"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">init :: <span class="keyword-type">proc</span> "odin" (t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>, src: <span class="doc-builtin">string</span>, path: <span class="doc-builtin">string</span>, err: <a class="code-typename" href="/core/encoding/xml/#Error_Handler">Error_Handler</a> = default_error_handler) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="is_letter"><span><a class="doc-id-link" href="#is_letter">is_letter<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L184"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">is_letter :: <span class="keyword-type">proc</span> "odin" (r: <span class="doc-builtin">rune</span>) -> <span class="doc-builtin">bool</span> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="is_valid_identifier_rune"><span><a class="doc-id-link" href="#is_valid_identifier_rune">is_valid_identifier_rune<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L196"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">is_valid_identifier_rune :: <span class="keyword-type">proc</span> "odin" (r: <span class="doc-builtin">rune</span>) -> <span class="doc-builtin">bool</span> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="likely"><span><a class="doc-id-link" href="#likely">likely<span class="a-hidden">&nbsp;¶</span></a></span></h3>
<div>
<pre class="doc-code">likely :: intrinsics.expect</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="load_from_file"><span><a class="doc-id-link" href="#load_from_file">load_from_file<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L503"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">load_from_file :: <span class="keyword-type">proc</span> "odin" (filename: <span class="doc-builtin">string</span>, options: <a class="code-typename" href="/core/encoding/xml/#Options">Options</a> = DEFAULT_OPTIONS, error_handler: <span class="keyword-type">proc</span> "odin" (pos: <a class="code-typename" href="/core/encoding/xml/#Pos">Pos</a>, fmt: <span class="doc-builtin">string</span>, args: ..<span class="doc-builtin">any</span>) = default_error_handler, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>, err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Load an XML file</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="new_element"><span><a class="doc-id-link" href="#new_element">new_element<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L696"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">new_element :: <span class="keyword-type">proc</span> "odin" (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>) -> (id: <span class="doc-builtin">u32</span>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="parse_attributes"><span><a class="doc-id-link" href="#parse_attributes">parse_attributes<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L585"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">parse_attributes :: <span class="keyword-type">proc</span> "odin" (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>, attribs: ^[<span class="keyword">dynamic</span>]<a class="code-typename" href="/core/encoding/xml/#Attribute">Attribute</a>) -> (err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="parse_attribute"><span><a class="doc-id-link" href="#parse_attribute">parse_attribute<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L557"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">parse_attribute :: <span class="keyword-type">proc</span> "odin" (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>) -> (attr: <a class="code-typename" href="/core/encoding/xml/#Attribute">Attribute</a>, offset: <span class="doc-builtin">int</span>, err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="parse_bytes"><span><a class="doc-id-link" href="#parse_bytes">parse_bytes<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L222"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">parse_bytes :: <span class="keyword-type">proc</span> "odin" (data: []<span class="doc-builtin">u8</span>, options: <a class="code-typename" href="/core/encoding/xml/#Options">Options</a> = DEFAULT_OPTIONS, path: <span class="doc-builtin">string</span> = "", error_handler: <span class="keyword-type">proc</span> "odin" (pos: <a class="code-typename" href="/core/encoding/xml/#Pos">Pos</a>, fmt: <span class="doc-builtin">string</span>, args: ..<span class="doc-builtin">any</span>) = default_error_handler, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>, err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Implementation starts here.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="parse_doctype"><span><a class="doc-id-link" href="#parse_doctype">parse_doctype<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L668"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">parse_doctype :: <span class="keyword-type">proc</span> "odin" (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>) -> (err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="parse_prologue"><span><a class="doc-id-link" href="#parse_prologue">parse_prologue<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L599"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">parse_prologue :: <span class="keyword-type">proc</span> "odin" (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>) -> (err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="parse_string"><span><a class="doc-id-link" href="#parse_string">parse_string<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L494"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">parse_string :: <span class="keyword-type">proc</span> "odin" (data: <span class="doc-builtin">string</span>, options: <a class="code-typename" href="/core/encoding/xml/#Options">Options</a> = DEFAULT_OPTIONS, path: <span class="doc-builtin">string</span> = "", error_handler: <span class="keyword-type">proc</span> "odin" (pos: <a class="code-typename" href="/core/encoding/xml/#Pos">Pos</a>, fmt: <span class="doc-builtin">string</span>, args: ..<span class="doc-builtin">any</span>) = default_error_handler, allocator := <a href="/core/runtime/#Context">context.allocator</a>) -> (doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>, err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="peek_byte"><span><a class="doc-id-link" href="#peek_byte">peek_byte<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L164"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">peek_byte :: <span class="keyword-type">proc</span> "odin" (t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>, offset: <span class="doc-builtin">int</span> = 0) -> <span class="doc-builtin">u8</span> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="peek"><span><a class="doc-id-link" href="#peek">peek<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L378"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">peek :: <span class="keyword-type">proc</span> "odin" (using t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>) -> (token: <a class="code-typename" href="/core/encoding/xml/#Token">Token</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="print_element"><span><a class="doc-id-link" href="#print_element">print_element<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/debug_print.odin#L53"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">print_element :: <span class="keyword-type">proc</span> "odin" (writer: io.<a class="code-typename" href="/core/io/#Writer">Writer</a>, doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>, element_id: <span class="doc-builtin">u32</span>, indent: <span class="doc-builtin">int</span> = 0) -> (written: <span class="doc-builtin">int</span>, err: io.<a class="code-typename" href="/core/io/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="print"><span><a class="doc-id-link" href="#print">print<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/debug_print.odin#L20"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">print :: <span class="keyword-type">proc</span> "odin" (writer: io.<a class="code-typename" href="/core/io/#Writer">Writer</a>, doc: ^<a class="code-typename" href="/core/encoding/xml/#Document">Document</a>) -> (written: <span class="doc-builtin">int</span>, err: io.<a class="code-typename" href="/core/io/#Error">Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Just for debug purposes.</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="scan"><span><a class="doc-id-link" href="#scan">scan<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L385"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">scan :: <span class="keyword-type">proc</span> "odin" (using t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>) -> (token: <a class="code-typename" href="/core/encoding/xml/#Token">Token</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="scan_comment"><span><a class="doc-id-link" href="#scan_comment">scan_comment<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L241"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">scan_comment :: <span class="keyword-type">proc</span> "odin" (using t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>) -> (comment: <span class="doc-builtin">string</span>, err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>A comment ends when we see -->, preceded by a character that's not a dash.</p>
<pre>"For compatibility, the string "--" (double-hyphen) must not occur within comments."

See: https://www.w3.org/TR/2006/REC-xml11-20060816/#dt-comment

Thanks to the length (4) of the comment start, we also have enough lookback,
and the peek at the next byte asserts that there's at least one more character
that's a `>`.
</pre>
</details>
</div>
<div class="pkg-entity">
<h3 id="scan_identifier"><span><a class="doc-id-link" href="#scan_identifier">scan_identifier<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L212"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">scan_identifier :: <span class="keyword-type">proc</span> "odin" (using t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>) -> <span class="doc-builtin">string</span> {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="scan_string"><span><a class="doc-id-link" href="#scan_string">scan_string<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L306"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">scan_string :: <span class="keyword-type">proc</span> "odin" (t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>, offset: <span class="doc-builtin">int</span>, close: <span class="doc-builtin">rune</span> = '<', consume_close: <span class="doc-builtin">bool</span> = false, multiline: <span class="doc-builtin">bool</span> = true) -> (value: <span class="doc-builtin">string</span>, err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="skip_cdata"><span><a class="doc-id-link" href="#skip_cdata">skip_cdata<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L272"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">skip_cdata :: <span class="keyword-type">proc</span> "odin" (using t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>) -> (err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
<details class="odin-doc-toggle" open>
<summary class="hideme"><span>&nbsp;</span></summary>
<p>Skip CDATA</p>
</details>
</div>
<div class="pkg-entity">
<h3 id="skip_element"><span><a class="doc-id-link" href="#skip_element">skip_element<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L642"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">skip_element :: <span class="keyword-type">proc</span> "odin" (using t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>) -> (err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="skip_whitespace"><span><a class="doc-id-link" href="#skip_whitespace">skip_whitespace<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin#L172"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">skip_whitespace :: <span class="keyword-type">proc</span> "odin" (using t: ^<a class="code-typename" href="/core/encoding/xml/#Tokenizer">Tokenizer</a>) {…}</pre>
</div>
</div>
<div class="pkg-entity">
<h3 id="validate_options"><span><a class="doc-id-link" href="#validate_options">validate_options<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L540"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">validate_options :: <span class="keyword-type">proc</span> "odin" (options: <a class="code-typename" href="/core/encoding/xml/#Options">Options</a>) -> (validated: <a class="code-typename" href="/core/encoding/xml/#Options">Options</a>, err: <a class="code-typename" href="/core/encoding/xml/#Error">Error</a>) {…}</pre>
</div>
</div>
</section>
<h2 id="pkg-Procedure Groups" class="pkg-header">Procedure Groups</h2>
<section class="documentation">
<div class="pkg-entity">
<h3 id="parse"><span><a class="doc-id-link" href="#parse">parse<span class="a-hidden">&nbsp;¶</span></a></span><div class="doc-source"><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin#L500"><em>Source</em></a></div></h3>
<div>
<pre class="doc-code">parse :: proc{
	<a class="code-procedure" href="/core/encoding/xml/#parse_string">parse_string</a>,
	<a class="code-procedure" href="/core/encoding/xml/#parse_bytes">parse_bytes</a>,
}
</pre>
</div>
</div>
</section>
<h2 id="pkg-source-files">Source Files</h2>
<ul>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/debug_print.odin">debug_print.odin</a></li>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/helpers.odin">helpers.odin</a></li>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/tokenizer.odin">tokenizer.odin</a></li>
<li><a href="https://github.com/odin-lang/Odin/tree/master/core/encoding/xml/xml_reader.odin">xml_reader.odin</a></li>
</ul>
<h2 id="pkg-generation-information">Generation Information</h2>
<p>Generated with <code>odin version dev-2022-06 (vendor "odin") Windows_amd64 @ 2022-06-27 21:09:15.245455600 +0000 UTC</code></p>
</article>
<div class="col-lg-2 odin-toc-border navbar-light"><div class="sticky-top odin-below-navbar py-3">
<nav id="TableOfContents">
<ul>
<li><a href="#pkg-overview">Overview</a><li><a href="#pkg-Types">Types</a><ul>
<li><a href="#Attributes">Attributes</a></li>
<li><a href="#Attribute">Attribute</a></li>
<li><a href="#Document">Document</a></li>
<li><a href="#Element">Element</a></li>
<li><a href="#Element_ID">Element_ID</a></li>
<li><a href="#Encoding">Encoding</a></li>
<li><a href="#Error">Error</a></li>
<li><a href="#Error_Handler">Error_Handler</a></li>
<li><a href="#Option_Flag">Option_Flag</a></li>
<li><a href="#Option_Flags">Option_Flags</a></li>
<li><a href="#Options">Options</a></li>
<li><a href="#Pos">Pos</a></li>
<li><a href="#Token">Token</a></li>
<li><a href="#Token_Kind">Token_Kind</a></li>
<li><a href="#Tokenizer">Tokenizer</a></li>
</ul>
</li>
<li><a href="#pkg-Constants">Constants</a><ul>
<li><a href="#CDATA_END">CDATA_END</a></li>
<li><a href="#CDATA_START">CDATA_START</a></li>
<li><a href="#COMMENT_END">COMMENT_END</a></li>
<li><a href="#COMMENT_START">COMMENT_START</a></li>
<li><a href="#DEFAULT_OPTIONS">DEFAULT_OPTIONS</a></li>
</ul>
</li>
<li><a href="#pkg-Procedures">Procedures</a><ul>
<li><a href="#advance_rune">advance_rune</a></li>
<li><a href="#check_duplicate_attributes">check_duplicate_attributes</a></li>
<li><a href="#default_error_handler">default_error_handler</a></li>
<li><a href="#destroy">destroy</a></li>
<li><a href="#error">error</a></li>
<li><a href="#expect">expect</a></li>
<li><a href="#find_attribute_val_by_key">find_attribute_val_by_key</a></li>
<li><a href="#find_child_by_ident">find_child_by_ident</a></li>
<li><a href="#init">init</a></li>
<li><a href="#is_letter">is_letter</a></li>
<li><a href="#is_valid_identifier_rune">is_valid_identifier_rune</a></li>
<li><a href="#likely">likely</a></li>
<li><a href="#load_from_file">load_from_file</a></li>
<li><a href="#new_element">new_element</a></li>
<li><a href="#parse_attributes">parse_attributes</a></li>
<li><a href="#parse_attribute">parse_attribute</a></li>
<li><a href="#parse_bytes">parse_bytes</a></li>
<li><a href="#parse_doctype">parse_doctype</a></li>
<li><a href="#parse_prologue">parse_prologue</a></li>
<li><a href="#parse_string">parse_string</a></li>
<li><a href="#peek_byte">peek_byte</a></li>
<li><a href="#peek">peek</a></li>
<li><a href="#print_element">print_element</a></li>
<li><a href="#print">print</a></li>
<li><a href="#scan">scan</a></li>
<li><a href="#scan_comment">scan_comment</a></li>
<li><a href="#scan_identifier">scan_identifier</a></li>
<li><a href="#scan_string">scan_string</a></li>
<li><a href="#skip_cdata">skip_cdata</a></li>
<li><a href="#skip_element">skip_element</a></li>
<li><a href="#skip_whitespace">skip_whitespace</a></li>
<li><a href="#validate_options">validate_options</a></li>
</ul>
</li>
<li><a href="#pkg-Procedure Groups">Procedure Groups</a><ul>
<li><a href="#parse">parse</a></li>
</ul>
</li>
<li><a href="#pkg-source-files">Source Files</a></ul>
</nav>
</div></div>
</div>

</div>
</main>

<footer class="odin-footer">
	<div class="container pb-5 pt-5">
		<div class="row g-4">
		<div class="col">
		<a class="navbar-brand" href="https://odin-lang.org">
		<img class="mb-3" src="https://odin-lang.org/logo.svg" height="30" alt="Odin"></a>
		<p>
		The Data-Oriented Language for Sane Software Development.
		</p>
		</div>
		<nav class="col-md-auto">
			<h4 class="fw-normal">Resources</h4>
			<ul class="list-unstyled">
			<li><a href="https://odin-lang.org/docs" class="link-light">Docs</a></li>
			<li><a href="https://pkg.odin-lang.org/" class="link-light">Packages</a></li>
			<li><a href="https://odin-lang.org/news" class="link-light">News</a></li>
			</ul>
		</nav>
		<nav class="col-md-auto">
			<h4 class="fw-normal">Community</h4>
			<ul class="list-unstyled">
			<li><a href="https://github.com/odin-lang/Odin" target="_blank" class="link-light">GitHub</a></li>
			<li><a href="https://discord.com/invite/sVBPHEv" target="_blank" class="link-light">Discord</a></li>
			<li><a href="https://www.twitch.tv/ginger_bill" target="_blank" class="link-light">Twitch</a></li>
			<li><a href="https://www.youtube.com/channel/UCUSck1dOH7VKmG4lRW7tZXg" target="_blank" class="link-light">YouTube</a></li>
			</ul>
		</nav>
		<nav class="col-md-auto">
			<h4 class="fw-normal">Contribute</h4>
			<ul class="list-unstyled">
			<li><a href="https://github.com/odin-lang/Odin/issues" target="_blank" class="link-light">Issues</a></li>
			<li><a href="https://www.patreon.com/gingerbill" target="_blank" class="link-light">Donate</a></li>
			</ul>
			</nav>
		</div>
		<div class="mt-4 text-muted">© 2016–2022 Ginger Bill</div>
	</div>
</footer>

<script src="https://odin-lang.org/lib/bootstrap/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>
<script src="https://odin-lang.org/js/script.js"></script>
<script type="text/javascript">
	let docsearch_data = {
		appId:     "H6XRVBSW5C",
		apiKey:    "43bb20431f8b3e7576dbb757cbab9047",
		indexName: "odin-lang",
		container: "#algolia-search",
		debug:     false,
		hint:      true,
		autocompleteOptions: {
			minLength: 1,
		},
		algoliaOptions: {
			hitsPerPage: 10,
			ignorePlural: true,
		},
	};

	let search_elem = document.getElementById("algolia-search");
	if (search_elem.hasAttribute("data-path")) {
		let data_path = search_elem.getAttribute("data-path");
		docsearch_data.transformItems = function(items) {
			return items.filter(function(item) {
				if (item.url.indexOf(data_path) < 0) {
					return false;
				}
				return true;
			});
		};
	}

	docsearch(docsearch_data);

</script>
</body>
</html>
